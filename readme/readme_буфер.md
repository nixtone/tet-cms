# TETCORE
## Описание
Болванка — ядро для быстрого развертывания сайта. Содержит подготовленный каркас для работы с базой в формате CRUD, также подготовленные обертки, например для дебага, ajax-запросов, режим разработки и прочее можно быстро дорасширять в контексте платформы.

### Требования
- PHP 8.0  
- MySQL 8.0  

## Документация
В корневом 'index.php' через "require_once" осуществляется подключение ядра и становятся доступны все его возможности.
### Переменная $CORE
- Содержит в себе экземпляры всех классов папки '/core/lib'.
- Под ключем 'CURRENT' содержится информация в зависимости от текущего адреса. Из коробки присутствует разбор адреса.

### Файл config.php
- Находятся информация для подключения к базе данных.
- Управление режимом разработки (вкл/выкл)

### Папка lib
Формируется ядро, создаются новые классы. Чтобы подключить класс, нужно создать файл "class.название_класса.php", внутри объявить класс, и все ядро само его подхватит.

Чтобы новый класс участвовал в CRUD ядра, нужно:
- Наследовать класс "crud"
- Указать название таблицы в базе данных без префикса
- Объявить четыре публичных метода create, read, update, delete.

Далее станут доступны классы execute_create, execute_read, execute_update, execute_delete которые можно вызывать только внутри нового класса. Образец тут "/core/lib/class.test.php".
Теперь к методам нового класса можно обращаться через переменную $CORE, например:
> $CORE['TEST']->Create();  
> $CORE['TEST']->Read();  
> $CORE['TEST']->Update();  
> $CORE['TEST']->Delete();

#### function.php
Функции ядра, уже содержит функцию p() для дебага

### Папка dev
Находится '/core/dev', для размещения в ней файлов касательно разрабатываемого сайта. Внутри папка 'inc' для одиночных файлов выполняющих каждый конкретную задачу, уже есть файл 'ajax.php' в котором можно хранить все действия которые касаются ajax-запросов

## TODO
### Оперативное
- Входные данные второго аргумента Read() протащить через PDO

### Стратегическое
- Автоподгрузка классов


## TETCMS
  
__Цель:__ удобная, легкая и гибкая платформа    
__Название:__ TET
  
### Требования
- PHP 8.0  
- MySQL 8.0  

## Документация
Каждый раздел состоит из шаблонов и блоков и все действия и промежуточная информация содержиться в переменной $LIB.

### Переменная $LIB
Содержит все объекты классов из папки "/core/lib", через нее можно вызвать любой метод, путем указания ключа, каждый из которых соответствует названию класса в верхнем регистре, например:
$LIB['USER']->Read(1); // Будет возвращен массив с записью о пользователе

### Терминология
- SECTION - раздел
- DESIGN - обертка для формируемой страницы, которая содержит теги html, head, body.
- BLOCK - 
- ELEMENT - 
- CATEGORY - 
- SECTION_BLOCK - блок секции. 

### Конфигурация сайта
Файл "/core/config.php" содержит:
- Настройки подключения к базе данных
- права на создание файлов и папок
- режим разработки

Удобный сценарий обращения. Например у Вас развернут сайт на хостинге и локально и они связаны git-репозиторием. Можно добавить файл конфигурации в ".gitignore", передавать измения из локального сайта в его копию которая находиться на продакшене, при этом не беспокоясь что данные подключения попадут в публичный репозиторий а также не будет необходимости следить за тем чтобы настройки подключения к базе данных и режим разработки не включились на продакшене.

### Классы

[Block](#block)
[Сategory](#category)
[Core](#core)
[Crud](#crud)
[DB](#db)
[Design](#design)
[Element](#element)
[Field](#field)
[Section_block](#section_block)
[Section](#section)
[Url](#url)
[User](#user)

<a name="block">Block</a>
Методы класса:
Create($fields = [])
$fields - может принимать ключи, название которых соответствует полям в таблице "block". Как например "NAME" - название нового блока киррилицей. Возвращает идентификатор нового блока